{% extends "base.html.twig" %}
{% block header %}
{{ include('_navigation.html.twig') }}
{% endblock %}
{% block body %}

<section class="container bg-white mt-2 pt-5">
    <div class="row justify-content-center mb-4">
        <h2 class=" w-25">Recherche de vol</h2>
    </div>
    
</section>

<section class="container bg-white rounded mt-4 p-4">
    <div class="row">
        <div class="col-12 p-4">
            {% if departureCity and arrivalCity and departureDate %}
            <h3>Vos résultats pour un voyage de {{ departureCity }} vers {{ arrivalCity }} le {{ departureDate | date("d/m/Y")}}</h3>
            {% endif %}
            
        </div>
        {% if flights %}
       {% dump(flights) %}
        {% for flight in flights %}
        <div class="col-3">
            <div class="card m-2">
                <div class="card-body">
                    <h5 class="card-title">VOL {{ flight.departure.iataCode | upper }} - {{ flight.arrival.iataCode | upper }} </h5>
                    <p><span>Décollage: {{ flight.departure.scheduledTime}}</span> <span>terminal: {{flight.departure.terminal | upper}}</span></p>
                    
                    <p><span>Aterrissage: {{ flight.arrival.scheduledTime}}</span> <span>terminal: {{flight.arrival.terminal | upper}}</span></p>
                    <p class="card-text">
                        <span>Compagnie aérienne: {% if flight.airline.name %} {{ flight.airline.name | upper}} {% else %}
                           <span>Unknown</span>  {% endif %} </span>
                        
                    </p>
                    <p><span>Numéro de vol: {{ flight.flight.iataNumber | upper }}</span></p>
                </div>
            </div>
        </div>
        
        
        
        {% endfor %}
          
        {% else %}
        <p class="resultSearchMessage">Il n'y a pas de résultat pour votre recherche</p>
        {% endif %}
    </div>
</section>


{% endblock %}
{% block footer %} {{ include('_footer.html.twig') }} {% endblock %}